"use strict";(self["webpackChunkbutton_with_sound"]=self["webpackChunkbutton_with_sound"]||[]).push([[557],{7346:function(e,t,s){s.r(t),s.d(t,{default:function(){return De}});var i=s(3396),o=s(7139),n=s(9242),r=s(5080);const l=e=>((0,i.dD)("data-v-31f43950"),e=e(),(0,i.Cn)(),e),a=l((()=>(0,i._)("br",null,null,-1))),c={class:"quiz"},u=l((()=>(0,i._)("div",{class:"sound-cloud-player"},[(0,i._)("iframe",{width:"100%",height:"100px",scrolling:"no",frameborder:"no",allow:"autoplay",src:"https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/228593349&color=%23745c6c&auto_play=true&hide_related=false&show_comments=false&show_user=true&show_reposts=false&show_teaser=true"})],-1)));function h(e,t,s,l,h,d){const m=(0,i.up)("QuizPage");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("img",{style:{padding:"5px"},width:"15%",height:"15%",alt:"logo",src:r,onClick:t[0]||(t[0]=(...e)=>d.clickIcon&&d.clickIcon(...e))}),(0,i.wy)((0,i._)("h2",null,[(0,i.Uk)((0,o.zw)(h.showMsg)+" ",1),a,(0,i.Uk)(" "+(0,o.zw)(h.countDownMsg),1)],512),[[n.F8,h.showMsg.length>0]]),(0,i._)("div",c,[(0,i.Wm)(m)]),u],64)}s(560);var d=s.p+"img/mushroom.fdb0a1c8.gif";const m=e=>((0,i.dD)("data-v-24deb670"),e=e(),(0,i.Cn)(),e),w={id:"quiz",class:"container mt-3"},p=m((()=>(0,i._)("h1",null,"大家認識的波普貓",-1))),g={key:0},b=m((()=>(0,i._)("br",null,null,-1))),_={class:"form-group"},y={key:1},f={key:0},k=m((()=>(0,i._)("h6",{style:{"font-size":"medium"}},"(建議先選擇答題再出題)",-1))),v={key:1,class:"d-grid gap-2 d-md-block mx-auto"},z={class:"mb-3"},x=m((()=>(0,i._)("br",null,null,-1))),Q={key:0,class:"alert alert-success d-flex align-items-center",role:"alert"},q=m((()=>(0,i._)("svg",{class:"bi flex-shrink-0 me-2",width:"24",height:"24",role:"img","aria-label":"Success:"},[(0,i._)("use",{"xlink:href":"#check-circle-fill"})],-1))),D=m((()=>(0,i._)("div",null," 題目建立成功！ ",-1))),B=[q,D],A=m((()=>(0,i._)("h2",null,"新增問題",-1))),C={class:"mb-3"},S=m((()=>(0,i._)("label",{for:"setQuestion",class:"form-label"},"題目：",-1))),I={class:"row"},E={class:"mb-3"},T=m((()=>(0,i._)("label",{for:"choiceA",class:"form-label"},"選項 A：",-1))),L={class:"mb-3"},U=m((()=>(0,i._)("label",{for:"choiceB",class:"form-label"},"選項 B：",-1))),G=m((()=>(0,i._)("button",{type:"submit",class:"btn btn-primary"},"送出",-1))),M={key:2},j={key:0},N={class:"mx-auto"},Y={class:"mt-4",style:{"font-size":"large"}},P={class:"mt"},V={key:0,class:"d-grid gap-2 col-6 mx-auto"},K={key:1,class:"d-grid gap-2 mx-auto"},$={class:"row"},O={class:"col-6"},H={class:"mt-4"},R={class:"mt-2",style:{"font-size":"large"}},F={class:"user-names"},W={class:"col-6"},Z={class:"mt-4"},J={class:"mt-2",style:{"font-size":"large"}},X={class:"user-names"},ee={key:1},te=m((()=>(0,i._)("h3",null,"No more questions!",-1))),se=m((()=>(0,i._)("br",null,null,-1))),ie=m((()=>(0,i._)("br",null,null,-1))),oe={class:"d-grid gap-2 d-md-block mx-auto"},ne={class:"mx-auto"},re={class:"mt"},le={class:"d-flex justify-content-center mr-2"},ae={class:"btn btn-outline-primary btn-lg mr-2"},ce={class:"btn btn-outline-primary btn-lg"},ue=m((()=>(0,i._)("br",null,null,-1))),he={key:0},de=m((()=>(0,i._)("h4",null,"已舉報成功",-1))),me=[de],we={key:1},pe=["onClick"],ge=m((()=>(0,i._)("h3",null," ~~~~~~~~~~~~~~~~~~~~ ",-1))),be=m((()=>(0,i._)("br",null,null,-1))),_e=m((()=>(0,i._)("img",{id:"cuteGif",src:d,alt:"Mushroom GIF",style:{width:"200px",height:"200px"}},null,-1))),ye=[_e];function fe(e,t,s,r,l,a){return(0,i.wg)(),(0,i.iD)("div",w,[p,l.nickname?((0,i.wg)(),(0,i.iD)("div",y,[l.quizStarted?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",f,[(0,i._)("h3",null,"Hi "+(0,o.zw)(l.nickname)+" ᓚᘏᗢ",1),k])),l.quizStarted?((0,i.wg)(),(0,i.iD)("div",M,[l.question?((0,i.wg)(),(0,i.iD)("div",j,[(0,i._)("div",N,[(0,i._)("h2",Y,"出題者: "+(0,o.zw)(l.author),1),(0,i._)("h2",P,"Q: "+(0,o.zw)(l.question),1)]),l.isAnswered?((0,i.wg)(),(0,i.iD)("div",K,[(0,i._)("div",$,[(0,i._)("div",O,[(0,i._)("h2",H,(0,o.zw)(l.choiceA),1),(0,i._)("h2",R,"共 "+(0,o.zw)(l.answeredBy.A.length)+" 人",1),(0,i._)("div",F,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.answeredBy.A,((e,t)=>((0,i.wg)(),(0,i.iD)("span",{key:t,class:"user-name"},(0,o.zw)(e),1)))),128))])]),(0,i._)("div",W,[(0,i._)("h2",Z,(0,o.zw)(l.choiceB),1),(0,i._)("h2",J,"共 "+(0,o.zw)(l.answeredBy.B.length)+" 人",1),(0,i._)("div",X,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.answeredBy.B,((e,t)=>((0,i.wg)(),(0,i.iD)("span",{key:t,class:"user-name"},(0,o.zw)(e),1)))),128))])])]),(0,i._)("button",{class:"btn btn-outline-primary btn-lg",onClick:t[10]||(t[10]=(...e)=>a.getNextQuestion&&a.getNextQuestion(...e))},"下一題")])):((0,i.wg)(),(0,i.iD)("div",V,[(0,i._)("button",{class:"btn btn-outline-primary btn-lg mr-2",onClick:t[8]||(t[8]=e=>a.submitAnswer("A"))},(0,o.zw)(l.choiceA),1),(0,i._)("button",{class:"btn btn-outline-primary btn-lg",onClick:t[9]||(t[9]=e=>a.submitAnswer("B"))},(0,o.zw)(l.choiceB),1)]))])):((0,i.wg)(),(0,i.iD)("div",ee,[te,se,(0,i._)("button",{class:"btn btn-primary mx-2",onClick:t[11]||(t[11]=(...e)=>a.getQuestionList&&a.getQuestionList(...e))},"列出所有題目"),ie,(0,i._)("div",oe,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.quizzes,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t},[(0,i._)("div",ne,[(0,i._)("h2",re,"Q: "+(0,o.zw)(e.question),1)]),(0,i._)("div",le,[(0,i._)("button",ae,(0,o.zw)(e.choices[0]),1),(0,i._)("button",ce,(0,o.zw)(e.choices[1]),1)]),ue,e.reported?((0,i.wg)(),(0,i.iD)("div",he,me)):((0,i.wg)(),(0,i.iD)("div",we,[(0,i._)("button",{class:"btn btn-warning btn-sm",onClick:e=>a.reportQuestion(t)},(0,o.zw)(e.reportChecked?"真的要舉報嗎?":"舉報"),9,pe)])),ge,be])))),128))])]))])):((0,i.wg)(),(0,i.iD)("div",v,[(0,i._)("button",{class:"btn btn-primary mx-2",onClick:t[2]||(t[2]=(...e)=>a.startQuiz&&a.startQuiz(...e))},"答題"),(0,i._)("button",{class:"btn btn-primary mx-2",onClick:t[3]||(t[3]=e=>l.isSetQuestion=!l.isSetQuestion)},"出題"),(0,i.wy)((0,i._)("div",z,[x,l.isSubmitSuccess?((0,i.wg)(),(0,i.iD)("div",Q,B)):(0,i.kq)("",!0),A,(0,i._)("form",{onSubmit:t[7]||(t[7]=(0,n.iM)(((...e)=>a.submitQuiz&&a.submitQuiz(...e)),["prevent"]))},[(0,i._)("div",C,[S,(0,i.wy)((0,i._)("textarea",{class:"form-control",id:"setQuestion","onUpdate:modelValue":t[4]||(t[4]=e=>l.setQuestion=e),placeholder:"題目",required:""},null,512),[[n.nr,l.setQuestion]])]),(0,i._)("div",I,[(0,i._)("div",E,[T,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",id:"choiceA","onUpdate:modelValue":t[5]||(t[5]=e=>l.choiceA=e),placeholder:"選項A",required:""},null,512),[[n.nr,l.choiceA]])]),(0,i._)("div",L,[U,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",id:"choiceB","onUpdate:modelValue":t[6]||(t[6]=e=>l.choiceB=e),placeholder:"選項B",required:""},null,512),[[n.nr,l.choiceB]])])]),G],32)],512),[[n.F8,l.isSetQuestion]])]))])):((0,i.wg)(),(0,i.iD)("div",g,[b,(0,i.Uk)(" 這裡輸入你的名字，不是輸入你認識的波普貓(這個等會兒): "),(0,i._)("div",_,[(0,i.wy)((0,i._)("input",{type:"text",class:"col-4 mx-auto form-control","onUpdate:modelValue":t[0]||(t[0]=e=>l.nicknameInput=e),placeholder:"輸入名稱"},null,512),[[n.nr,l.nicknameInput]])]),(0,i._)("button",{class:"btn btn-primary mt-2",onClick:t[1]||(t[1]=(...e)=>a.setNickname&&a.setNickname(...e))},"確定名稱")])),(0,i._)("div",{onClick:t[12]||(t[12]=(...e)=>a.clickMushroom&&a.clickMushroom(...e))},ye)])}var ke={name:"QuizPage",props:{msg:String},el:"#quiz",data(){return{cuteGif:null,nicknameInput:"",nickname:"",quizStarted:!1,author:"",questionId:"",question:"",choiceA:"",choiceB:"",isAnswered:!1,answeredBy:[[]],isSetQuestion:!1,isSubmitSuccess:!1,setQuestion:"",quizzes:{}}},mounted(){const e=(e,t)=>{t||(t=window.location.href),e=e.replace(/[[\]]/g,"\\$&");const s=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),i=s.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null};e("username")&&(this.nickname=e("username")),this.cuteGif=document.getElementById("cuteGif"),setTimeout((()=>{this.animate()}),3e4)},methods:{setNickname(){this.nickname=this.nicknameInput.trim()},startQuiz(){this.quizStarted=!0,this.getNextQuestion()},getNextQuestion(){this.isAnswered=!1,fetch(`https://gordon-the-owl.tw/api/quiz?username=${this.nickname}`,{method:"GET"}).then((e=>e.json())).then((e=>{this.author=e.author,this.questionId=e.id,this.question=e.question,0!==this.question.length&&(this.choiceA=e.choices[0],this.choiceB=e.choices[1],this.answeredBy.A=e.answered_by[0]?e.answered_by[0]:"",this.answeredBy.B=e.answered_by[1]?e.answered_by[1]:"")})).catch((e=>{console.error("getNextQuestion Error:",e)}))},submitAnswer(e){fetch("https://gordon-the-owl.tw/api/quiz",{method:"POST",body:JSON.stringify({quiz_id:this.questionId,answer:e,username:this.nickname}),headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((t=>{"answerQuiz success"===t.message&&(this.isAnswered=!0,"A"===e?0===this.answeredBy.A.length?this.answeredBy.A=[this.nickname]:this.answeredBy.A.push(this.nickname):0===this.answeredBy.B.length?this.answeredBy.B=[this.nickname]:this.answeredBy.B.push(this.nickname))})).catch((e=>{console.error("submitAnswer Error:",e)}))},submitQuiz(){const e={question:this.setQuestion,choices:[this.choiceA,this.choiceB],author:this.nickname};fetch("https://gordon-the-owl.tw/api/quiz",{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>{e.ok?(this.setQuestion="",this.choiceA="",this.choiceB="",this.isSubmitSuccess=!0,setTimeout((()=>{this.isSubmitSuccess=!1,this.isSetQuestion=!1}),2e3)):console.error("Failed to submit quiz.")})).catch((e=>{console.error("getNextQuestion Error:",e)}))},getQuestionList(){fetch("https://gordon-the-owl.tw/api/quiz/list",{method:"GET"}).then((e=>e.json())).then((e=>{this.quizzes=e})).catch((e=>{console.error("getQuestionList Error:",e)}))},reportQuestion(e){this.quizzes[e].reportChecked?(fetch(`https://gordon-the-owl.tw/api/quiz?qid=${e}&username=${this.nickname}`,{method:"DELETE"}).then((t=>{t.ok&&console.log("reportQuestion success key: ",e)})).catch((t=>{console.error("reportQuestion err:",t,", key: ",e)})),this.quizzes[e].reported=!0):this.quizzes[e].reportChecked=!0},clickMushroom(){this.$router.push("/mole?username="+this.nickname)},animate(){let e=-200;const t=3;this.cuteGif.style.display="block",this.cuteGif.style.left="-200px",this.cuteGif.style.bottom="0";const s=setInterval((()=>{e+=t,this.cuteGif.style.left=e+"px",e>=window.innerWidth&&(clearInterval(s),this.cuteGif.style.display="none",setTimeout((()=>{this.animate()}),3e4))}),10)}}},ve=s(89);const ze=(0,ve.Z)(ke,[["render",fe],["__scopeId","data-v-24deb670"]]);var xe=ze,Qe={name:"QuizView",data(){return{showMsg:"",countDownMsg:"",countDownInterval:null,esterEggCount:0}},components:{QuizPage:xe},methods:{clickIcon(){this.esterEggCount+=1,5===this.esterEggCount&&fetch("https://gordon-the-owl.tw/api/easter_egg",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{e.ok?this.$router.push("/easter_egg"):(this.showMsg="\\我知道你很急，但你先別急/\n",e.start_at>0&&(this.countDown(e.start_at),this.countDownInterval=setInterval((()=>{this.countDown(e.start_at)}),1e3)),this.esterEggCount=0,setTimeout((()=>{clearInterval(this.countDownInterval),this.showMsg="",this.countDownMsg=""}),1e4))})).catch((e=>{console.error("fetch /api/easter_egg Error:",e)}))},countDown(e){const t=e,s=Math.floor(Date.now()/1e3),i=t-s,o=Math.floor(i/3600),n=Math.floor(i%3600/60),r=i%60;this.countDownMsg=`倒數: ${o} 小時 ${n} 分鐘 ${r} 秒\n`}}};const qe=(0,ve.Z)(Qe,[["render",h],["__scopeId","data-v-31f43950"]]);var De=qe},6293:function(e,t,s){s.r(t),s.d(t,{default:function(){return _}});var i=s(3396);const o={class:"share"},n=(0,i._)("h1",null,"不知道這一頁要放甚麼，就分享一些好料的",-1),r=(0,i._)("iframe",{width:"100%",height:"600",scrolling:"no",frameborder:"no",allow:"autoplay",src:"https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/228593349&color=%23745c6c&auto_play=true&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true"},null,-1),l=(0,i._)("div",{style:{"font-size":"10px",color:"#cccccc","line-break":"anywhere","word-break":"normal",overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis","font-family":"Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif","font-weight":"100"}},[(0,i._)("a",{href:"https://soundcloud.com/engblue",title:"EngBlue波普貓在英格藍",target:"_blank",style:{color:"#cccccc","text-decoration":"none"}},"EngBlue波普貓在英格藍"),(0,i._)("a",{href:"https://soundcloud.com/engblue/lost-stars-keira-knightleycover",title:"Lost Stars - Keira Knightley(cover)",target:"_blank",style:{color:"#cccccc","text-decoration":"none"}},"Lost Stars - Keira Knightley(cover)")],-1),a=(0,i._)("br",null,null,-1),c=(0,i._)("div",null,[(0,i._)("h3",null,[(0,i._)("a",{href:"https://www.youtube.com/@baize0w0",target:"_blank",title:"白澤大哥哥的頻道"},"白澤大哥哥的頻道")]),(0,i._)("iframe",{width:"100%",height:"315",src:"https://www.youtube.com/embed/H64j35Un99g?si=DxrjVf-upVVbWPbs",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""})],-1),u=(0,i._)("br",null,null,-1),h=(0,i._)("div",null,[(0,i._)("h3",null,[(0,i._)("a",{href:"https://www.youtube.com/@silence3u06",target:"_blank",title:"威廉大哥哥的頻道"},"威廉大哥哥的頻道")]),(0,i._)("iframe",{width:"100%",height:"315",src:"https://www.youtube.com/embed/4iDU1GN3ssc?si=p0nzBa_TrA9qYSm0",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:""})],-1),d=(0,i.uE)('<br><div><h3><a href="https://www.youtube.com/channel/UCBLGjbYv6-xxju1i44RjnnA" target="_blank" title="明透 -ᴀsu-">明透 -ᴀsu-</a></h3><iframe src="https://www.youtube.com/embed/videoseries?list=OLAK5uy_mHznvDVd-q4oxW5TOkt8vgpIRYsz0gQKY" width="100%" height="315"></iframe></div><br><div><h3><a href="https://www.youtube.com/@LOLUET" target="_blank" title="LOLUET">LOLUET</a></h3><iframe src="https://www.youtube.com/embed/videoseries?list=PLQ4eIpo7ZyeuTC97V-w0sj16Q8zXx3yBU&amp;index=1" width="100%" height="315"></iframe></div><br><div><h3><a href="https://www.youtube.com/@rayray_429" target="_blank" title="來-Ray-">來-Ray-</a></h3><iframe src="https://www.youtube.com/embed/videoseries?list=PLozd0hi0a-PRJIl3dXDTFYshZ1YM07a2W" width="100%" height="315"></iframe></div><br><div><h3><a href="https://www.youtube.com/@ChogakuseiOfficial" target="_blank" title="超学生-">超学生</a></h3><iframe src="https://www.youtube.com/embed/videoseries?list=UULPxIK6x6sG7Ln5vjjPYpgeAw" width="100%" height="315"></iframe></div><br>',9),m=[n,r,l,a,c,u,h,d];function w(e,t){return(0,i.wg)(),(0,i.iD)("div",o,m)}var p=s(89);const g={},b=(0,p.Z)(g,[["render",w]]);var _=b}}]);
//# sourceMappingURL=share.e4ecb950.js.map