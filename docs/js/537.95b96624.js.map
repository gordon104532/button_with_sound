{"version":3,"file":"js/537.95b96624.js","mappings":"qQACKA,GAAG,Q,UAEJC,EAAAA,EAAAA,GAEO,oBAFH,aAAQA,EAAAA,EAAAA,GAAI,OACdA,EAAAA,EAAAA,GAA4B,QAAtBC,MAAM,SAAQ,OAAC,K,GAEhBA,MAAM,mC,GAKVA,MAAM,Q,UAEPD,EAAAA,EAAAA,GAAwB,OAAnBC,MAAM,QAAM,W,GAAjBC,G,0CAZNC,EAAAA,EAAAA,IAeQ,MAfRC,EAeQ,EAdNJ,EAAAA,EAAAA,GAOQ,YANNK,GAGEL,EAAAA,EAAAA,GAEQ,MAFRM,EAEQ,EADNN,EAAAA,EAAAA,GAAqE,UAA5DO,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAC,WAAAD,EAAAC,aAAAF,IAAWR,MAAM,wBAAuB,aAI9DD,EAAAA,EAAAA,GAIQ,MAJRY,EAIQ,cAHNT,EAAAA,EAAAA,IAEQU,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAFa,GAATC,IAAZf,EAAAA,EAAAA,GAEQ,OAFiBgB,IAAKD,EAAQd,OAAKgB,EAAAA,EAAAA,IAAA,YAAgBF,I,wFAY/D,GACEG,GAAI,QACJC,IAAAA,GACE,MAAO,CACLC,aAAc,EACdC,SAAS,EACTC,SAAU,KACVC,MAAO,GACPC,SAAU,IAAIC,MAAMC,GAExB,EACAC,OAAAA,GACEC,KAAKL,MAAQM,SAASC,iBAAiB,SACvCF,KAAKL,MAAMQ,SAAQC,IACjBA,EAAKC,iBAAiB,QAASL,KAAKM,MAAM,GAE9C,EACAC,QAAS,CACPxB,SAAAA,GACMiB,KAAKP,UACTO,KAAKR,aAAe,EACpBS,SAASO,cAAc,UAAUC,YAAcT,KAAKR,aACpDQ,KAAKU,QACLV,KAAKJ,SAASe,OACdC,YAAW,KACTZ,KAAKP,SAAU,CAAG,GACjB,MACL,EACAiB,KAAAA,GACE,MAAMG,EAAOb,KAAKc,WAAW,IAAK,KAC5BC,EAAOf,KAAKgB,cACbD,IAILA,EAAKE,UAAUC,IAAI,MACnBN,YAAW,KACTG,EAAKE,UAAUE,OAAO,OACD,IAAjBnB,KAAKP,QACPO,KAAKU,QAELV,KAAKP,SAAU,CACjB,GACCoB,GACL,EACAC,UAAAA,CAAYM,EAAKC,GACf,OAAOC,KAAKC,MAAMD,KAAKE,UAAYH,EAAMD,GAAOA,EAClD,EACAJ,WAAAA,GACE,MAAMS,EAAQxB,SAASC,iBAAiB,SAClCf,EAAQmC,KAAKC,MAAsB,EAAhBD,KAAKE,UACxBE,EAAcD,EAAMtC,GAC1B,OAAIuC,IAAgB1B,KAAKN,SAChBM,KAAKgB,eAEZhB,KAAKN,SAAWgC,EACTA,EAEX,EACApB,KAAAA,CAAOqB,GACAA,EAAMC,YACX5B,KAAK6B,kBACL7B,KAAKR,eACLS,SAASO,cAAc,UAAUC,YAAcT,KAAKR,aACpDmC,EAAMG,OAAOC,WAAWd,UAAUE,OAAO,MAC3C,EACAU,eAAAA,GACE,MAAMG,EAAmB,IAAInC,MAAMoC,GACnC,IAAIC,GAAY,EACZC,GAAW,EACXA,IACFH,EAAiBI,QACjBJ,EAAiBK,YAAc,GAG7BH,IACFA,GAAY,EACZC,GAAW,EACXH,EAAiBM,QAAU,WACzBJ,GAAY,CACd,GAGF,MAAMK,EAAcP,EAAiBrB,YACjB6B,IAAhBD,GACFA,EAAYE,MAAKC,IACfP,GAAW,CAAG,IAEdQ,OAAMD,IACNR,GAAY,CAAG,GAIrB,I,QC9GJ,MAAMU,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://button_with_sound/./src/views/WackMoleView.vue","webpack://button_with_sound/./src/views/WackMoleView.vue?432a"],"sourcesContent":["<template>\r\n<div id=\"mole\">\r\n  <div>\r\n    <h1>蘑菇? 蘑菇! <br>\r\n      <span class=\"score\">0</span>\r\n      </h1>\r\n      <div class=\"d-grid gap-2 d-md-block mx-auto\">\r\n        <button @click=\"startGame\" class=\"btn btn-primary mt-2\">開始蘑菇</button>\r\n        </div>\r\n    </div>\r\n\r\n  <div class=\"game\">\r\n    <div v-for=\"index in 9\" :key=\"index\" :class=\"'hole hole' + index\">\r\n      <div class=\"mole\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  </template>\r\n\r\n<script>\r\nimport bgm from '../assets/audio/mushroom.mp3'\r\nimport soundEffect from '../assets/audio/nope.mp3'\r\n\r\nexport default {\r\n  el: '#mole',\r\n  data () {\r\n    return {\r\n      currentScore: 0,\r\n      turnOff: false,\r\n      lastHole: null,\r\n      moles: [],\r\n      bgmAudio: new Audio(bgm)\r\n    }\r\n  },\r\n  mounted () {\r\n    this.moles = document.querySelectorAll('.mole')\r\n    this.moles.forEach(mole => {\r\n      mole.addEventListener('click', this.score)\r\n    })\r\n  },\r\n  methods: {\r\n    startGame () {\r\n      if (this.turnOff) return\r\n      this.currentScore = 0\r\n      document.querySelector('.score').textContent = this.currentScore\r\n      this.popUp()\r\n      this.bgmAudio.play()\r\n      setTimeout(() => {\r\n        this.turnOff = true\r\n      }, 37000)\r\n    },\r\n    popUp () {\r\n      const time = this.randomTime(500, 900)\r\n      const hole = this.randomHoles()\r\n      if (!hole) {\r\n        return // 如果 hole 為 undefined，不執行任何操作\r\n      }\r\n\r\n      hole.classList.add('up')\r\n      setTimeout(() => {\r\n        hole.classList.remove('up')\r\n        if (this.turnOff === false) {\r\n          this.popUp()\r\n        } else {\r\n          this.turnOff = false\r\n        }\r\n      }, time)\r\n    },\r\n    randomTime (min, max) {\r\n      return Math.floor(Math.random() * (max - min) + min)\r\n    },\r\n    randomHoles () {\r\n      const holes = document.querySelectorAll('.hole')\r\n      const index = Math.floor(Math.random() * 9)\r\n      const currentHole = holes[index]\r\n      if (currentHole === this.lastHole) {\r\n        return this.randomHoles()\r\n      } else {\r\n        this.lastHole = currentHole\r\n        return currentHole\r\n      }\r\n    },\r\n    score (event) {\r\n      if (!event.isTrusted) return\r\n      this.playSoundEffect()\r\n      this.currentScore++\r\n      document.querySelector('.score').textContent = this.currentScore\r\n      event.target.parentNode.classList.remove('up')\r\n    },\r\n    playSoundEffect () {\r\n      const soundEffectAudio = new Audio(soundEffect)\r\n      let hasErrors = false\r\n      let canPause = false\r\n      if (canPause) {\r\n        soundEffectAudio.pause()\r\n        soundEffectAudio.currentTime = 0\r\n      }\r\n\r\n      if (hasErrors) {\r\n        hasErrors = false\r\n        canPause = false\r\n        soundEffectAudio.onerror = function () {\r\n          hasErrors = true\r\n        }\r\n      }\r\n\r\n      const playPromise = soundEffectAudio.play()\r\n      if (playPromise !== undefined) {\r\n        playPromise.then(_ => {\r\n          canPause = true\r\n        }\r\n        ).catch(_ => {\r\n          hasErrors = true\r\n        }\r\n        )\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  *, *:before, *:after {\r\n    box-sizing: inherit;\r\n  }\r\n\r\nbody {\r\n  padding: 0;\r\n  margin: 0;\r\n  font-family: 'Amatic SC', cursive;\r\n}\r\n\r\nh1 {\r\n  text-align: center;\r\n  font-size: 3rem;\r\n  line-height: 1;\r\n  margin-bottom: 0;\r\n}\r\n\r\n.score {\r\n  background: rgba(255,255,255,0.2);\r\n  padding: 0 3rem;\r\n  line-height: 1;\r\n  border-radius: 1rem;\r\n}\r\n\r\n.game {\r\n  width: 600px;\r\n  height: 600px;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin: 0 auto;\r\n}\r\n\r\n.hole {\r\n  flex: 1 0 33.33%;\r\n  overflow: hidden;\r\n  position: relative;\r\n}\r\n\r\n.hole:after {\r\n  display: block;\r\n  background: url('../assets/img/dirt.svg') bottom center no-repeat;\r\n  background-size: contain;\r\n  content: '';\r\n  width: 100%;\r\n  height: 70px;\r\n  position: absolute;\r\n  z-index: 2;\r\n  bottom: -30px;\r\n}\r\n\r\n.mole {\r\n  background:url('../assets/img/mushroom.gif') bottom center no-repeat;\r\n  background-size: 90%;\r\n  position: absolute;\r\n  top: 100%;\r\n  width: 100%;\r\n  height: 100%;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.hole.up .mole {\r\n  top: 0;\r\n}\r\n</style>\r\n","import { render } from \"./WackMoleView.vue?vue&type=template&id=7c29c892&scoped=true\"\nimport script from \"./WackMoleView.vue?vue&type=script&lang=js\"\nexport * from \"./WackMoleView.vue?vue&type=script&lang=js\"\n\nimport \"./WackMoleView.vue?vue&type=style&index=0&id=7c29c892&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7c29c892\"]])\n\nexport default __exports__"],"names":["id","_createElementVNode","class","_hoisted_5","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","onClick","_cache","args","$options","startGame","_hoisted_4","_Fragment","_renderList","index","key","_normalizeClass","el","data","currentScore","turnOff","lastHole","moles","bgmAudio","Audio","bgm","mounted","this","document","querySelectorAll","forEach","mole","addEventListener","score","methods","querySelector","textContent","popUp","play","setTimeout","time","randomTime","hole","randomHoles","classList","add","remove","min","max","Math","floor","random","holes","currentHole","event","isTrusted","playSoundEffect","target","parentNode","soundEffectAudio","soundEffect","hasErrors","canPause","pause","currentTime","onerror","playPromise","undefined","then","_","catch","__exports__","render"],"sourceRoot":""}