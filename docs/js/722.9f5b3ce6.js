"use strict";(self["webpackChunkbutton_with_sound"]=self["webpackChunkbutton_with_sound"]||[]).push([[722],{7377:function(t,e,o){o.r(e),o.d(e,{default:function(){return S}});var s=o(3396),r=o(7139);const n=t=>((0,s.dD)("data-v-f1a1f7ac"),t=t(),(0,s.Cn)(),t),i={id:"mole"},a=n((()=>(0,s._)("h1",null,[(0,s.Uk)("蘑菇? 蘑菇!"),(0,s._)("br"),(0,s._)("span",{class:"score"},"0")],-1))),l={class:"d-grid gap-2 d-md-block mx-auto"},u={class:"game"},c=n((()=>(0,s._)("div",{class:"mole"},null,-1))),d=[c];function h(t,e,o,n,c,h){const m=(0,s.up)("dif");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",i,[(0,s._)("div",null,[a,(0,s._)("div",l,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>h.startGame&&h.startGame(...t)),class:"btn btn-primary mt-3"},"開始蘑菇")])]),(0,s._)("div",u,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(this.holeCount,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:(0,r.C_)("hole hole"+t)},d,2)))),128))])]),(0,s.Wm)(m,{class:"credit"},{default:(0,s.w5)((()=>[(0,s.Uk)("credit: 一尾懶鯉魚")])),_:1})],64)}var m=o.p+"media/mushroom.83898fd7.mp3",p=o.p+"media/nope.eedfcb0b.mp3",f={el:"#mole",data(){return{holeCount:9,currentScore:0,isStart:!1,turnOff:!1,lastHole:null,moles:[],bgmAudio:new Audio(m)}},mounted(){if(window.innerWidth<=768){const t=document.querySelector(".game");t.style="width: "+window.outerWidth+"px; height: "+window.outerHeightHeight+"px;"}this.moles=document.querySelectorAll(".mole"),this.moles.forEach((t=>{t.addEventListener("click",this.score)}))},methods:{startGame(){this.isStart||(this.isStart=!0,this.currentScore=0,document.querySelector(".score").textContent=this.currentScore,this.popUp(),this.bgmAudio.play(),setTimeout((()=>{this.turnOff=!0,this.isStart=!1}),37e3))},popUp(){const t=this.randomTime(500,900),e=this.randomHoles();e&&(e.classList.add("up"),setTimeout((()=>{e.classList.remove("up"),!1===this.turnOff?this.popUp():this.turnOff=!1}),t))},randomTime(t,e){return Math.floor(Math.random()*(e-t)+t)},randomHoles(){const t=document.querySelectorAll(".hole"),e=Math.floor(Math.random()*this.holeCount),o=t[e];return o===this.lastHole?this.randomHoles():(this.lastHole=o,o)},score(t){t.isTrusted&&(this.playSoundEffect(),this.currentScore++,document.querySelector(".score").textContent=this.currentScore,t.target.parentNode.classList.remove("up"))},playSoundEffect(){const t=new Audio(p);let e=!1,o=!1;o&&(t.pause(),t.currentTime=0),e&&(e=!1,o=!1,t.onerror=function(){e=!0});const s=t.play();void 0!==s&&s.then((t=>{o=!0})).catch((t=>{e=!0}))}}},w=o(89);const _=(0,w.Z)(f,[["render",h],["__scopeId","data-v-f1a1f7ac"]]);var S=_}}]);
//# sourceMappingURL=722.9f5b3ce6.js.map